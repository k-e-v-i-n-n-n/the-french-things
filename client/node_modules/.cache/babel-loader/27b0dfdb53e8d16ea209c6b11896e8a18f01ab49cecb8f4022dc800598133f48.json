{"ast":null,"code":"import _defineProperty from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import{AppContext}from\"../Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WordCard=function WordCard(_ref){var word=_ref.word,setShowListModal=_ref.setShowListModal,wordState=_ref.wordState,setWordState=_ref.setWordState;var _useContext=useContext(AppContext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var _useState3=useState(word),_useState4=_slicedToArray(_useState3,2),wordEdit=_useState4[0],setWordEdit=_useState4[1];function editWord(e){e.preventDefault();fetch(\"/words/\".concat(word.id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({french:wordEdit.french,english:wordEdit.english})}).then(function(r){return r.json();}).then(function(r){updateWordState(r);setEditMode(false);});}function setWord(e){setWordEdit(_objectSpread(_objectSpread({},wordEdit),{},_defineProperty({},e.target.name,e.target.value)));}function deleteWord(e){e.preventDefault();fetch(\"/words/\".concat(word.id),{method:\"DELETE\"}).then(function(){return deleteWordState();});}function updateWordState(r){var wordArr=user.words;var wordFilter=wordArr.filter(function(w){return w.id!=word.id;});wordFilter.push(r);setUser(_objectSpread(_objectSpread({},user),{},{words:wordFilter}));}function deleteWordState(){var wordArr=user.words;var wordFilter=wordArr.filter(function(w){return w.id!=word.id;});var updatedUser=_objectSpread(_objectSpread({},user),{},{words:wordFilter});setUser(updatedUser);}return/*#__PURE__*/_jsx(_Fragment,{children:editMode?/*#__PURE__*/_jsx(\"div\",{className:\"word-edit-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"word-edit-form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"word-edit-input\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"edit-word-text\",children:\"French\"}),/*#__PURE__*/_jsx(\"input\",{name:\"french\",defaultValue:wordEdit.french,onChange:function onChange(e){return setWord(e);}}),/*#__PURE__*/_jsx(\"button\",{id:\"modal-save\",onClick:function onClick(e){return editWord(e);},children:\"save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"word-edit-input\",children:[/*#__PURE__*/_jsx(\"label\",{name:\"english\",className:\"edit-word-text\",onChange:function onChange(e){return setWord(e);},children:\"English\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:wordEdit.english}),/*#__PURE__*/_jsx(\"button\",{id:\"modal-cancel\",onClick:function onClick(){return setEditMode(false);},children:\"cancel\"})]})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"expression-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"target-expression-text\",children:word.french}),/*#__PURE__*/_jsx(\"p\",{className:\"source-expression-text\",children:word.english}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden-buttons-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"card-delete-x\",onClick:function onClick(){setShowListModal(true);setWordState(word);},children:\"\\u2605\"}),/*#__PURE__*/_jsx(\"button\",{className:\"card-delete-x\",onClick:function onClick(){return setEditMode(true);},children:\"\\u270E\"}),/*#__PURE__*/_jsx(\"button\",{className:\"card-delete-x\",onClick:function onClick(e){return deleteWord(e);},children:\"x\"})]})]})});};export default WordCard;","map":{"version":3,"names":["useContext","useState","AppContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WordCard","_ref","word","setShowListModal","wordState","setWordState","_useContext","user","setUser","_useState","_useState2","_slicedToArray","editMode","setEditMode","_useState3","_useState4","wordEdit","setWordEdit","editWord","e","preventDefault","fetch","concat","id","method","headers","body","JSON","stringify","french","english","then","r","json","updateWordState","setWord","_objectSpread","_defineProperty","target","name","value","deleteWord","deleteWordState","wordArr","words","wordFilter","filter","w","push","updatedUser","children","className","defaultValue","onChange","onClick"],"sources":["/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/src/components/WordCard.js"],"sourcesContent":["import { useContext, useState } from \"react\"\nimport { AppContext } from \"../Context\"\n\nconst WordCard = ({word, setShowListModal, wordState, setWordState}) => {\n\n  const {user, setUser} = useContext(AppContext)\n  \n\n  const [editMode, setEditMode] = useState(false)\n  const [wordEdit, setWordEdit] = useState(word)\n\n  function editWord(e){\n    e.preventDefault()\n    fetch(`/words/${word.id}`, {\n\n      method:\"PATCH\",\n      headers:{\"Content-Type\": \"application/json\"},\n      body: JSON.stringify({french: wordEdit.french, english: wordEdit.english})\n    }).then((r) => r.json()).then((r) => {updateWordState(r); setEditMode(false)})\n\n  }\n\n  function setWord(e){\n    setWordEdit({...wordEdit, [e.target.name]: e.target.value})\n  }\n\n  function deleteWord(e){\n    e.preventDefault()\n    fetch(`/words/${word.id}`, {method: \"DELETE\"})\n    .then(() => deleteWordState())}\n\n  function updateWordState(r){\n    const wordArr = user.words\n    const wordFilter = wordArr.filter((w) => w.id != word.id)\n    wordFilter.push(r)\n    setUser({...user, words: wordFilter})\n  }\n\n  function deleteWordState(){\n    const wordArr = user.words\n    const wordFilter = wordArr.filter((w) => w.id != word.id)\n    const updatedUser = {...user, words: wordFilter}\n    setUser(updatedUser)}\n\n    return (\n\n      <>\n      {editMode ?\n      \n      <div className=\"word-edit-container\" >\n          <div className=\"word-edit-form-container\" >\n              <div className=\"word-edit-input\" >\n                <label className=\"edit-word-text\">French</label>\n                <input name=\"french\" defaultValue={wordEdit.french} onChange={(e) => setWord(e)}/>\n                <button id=\"modal-save\" onClick={(e) => editWord(e)} >save</button>\n              </div>\n              <div className=\"word-edit-input\" >\n                <label name=\"english\" className=\"edit-word-text\" onChange={(e) => setWord(e)}>English</label>\n                <input defaultValue={wordEdit.english}/>\n                <button id=\"modal-cancel\" onClick={() => setEditMode(false)}>cancel</button>\n              </div>\n          </div>\n      </div> \n                  :\n    \n      <div className=\"expression-container\" >\n          <p className=\"target-expression-text\">\n            {word.french}\n          </p>\n          <p className=\"source-expression-text\">\n          {word.english}\n          </p>\n          <div className=\"hidden-buttons-container\">\n            <button className=\"card-delete-x\" onClick={() => {setShowListModal(true); setWordState(word)}} >★</button>\n            <button className=\"card-delete-x\" onClick={() => setEditMode(true)}>✎</button>\n            <button className=\"card-delete-x\" onClick={(e) => deleteWord(e)}>x</button>\n          </div>\n      </div>\n    }\n      </>\n    )\n  }\n  \n  export default WordCard"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}