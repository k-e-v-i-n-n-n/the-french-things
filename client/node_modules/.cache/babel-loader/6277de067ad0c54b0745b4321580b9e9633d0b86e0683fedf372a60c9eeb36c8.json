{"ast":null,"code":"import _defineProperty from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{AppContext}from\"../Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Modal=function Modal(_ref){var setSaveMode=_ref.setSaveMode;var _useContext=useContext(AppContext),targetLang=_useContext.targetLang,sourceLang=_useContext.sourceLang,translationObject=_useContext.translationObject,setTranslationObject=_useContext.setTranslationObject;var _useContext2=useContext(AppContext),user=_useContext2.user,setUser=_useContext2.setUser;var _useState=useState(),_useState2=_slicedToArray(_useState,2),langOne=_useState2[0],setLangOne=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),langTwo=_useState4[0],setLangTwo=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),postPath=_useState6[0],setPostPath=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),alert=_useState8[0],setAlert=_useState8[1];useEffect(function(){if(sourceLang===\"en\"){setLangOne(\"French\");setLangTwo(\"English\");}else{setLangOne(\"English\");setLangTwo(\"French\");}},[sourceLang]);function save(e){e.preventDefault();var path;if(translationObject[\"type\"]===\"\"||translationObject[\"fr\"]===\"\"||translationObject[\"en\"]===\"\"){setAlert(true);}else{if(postPath===\"Expression\"){path=\"expressions\";}else{path=\"words\";}fetch(\"/\".concat(path),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({french:translationObject[\"fr\"],english:translationObject[\"en\"],target:targetLang})}).then(function(r){return r.json();}).then(function(r){setSaveMode(null);updateState(r,path);clearState();});}}function updateState(r,path){var userArr=user[path];userArr.push(r);var updatedUser=_objectSpread(_objectSpread({},user),{},_defineProperty({},path,userArr));setUser(updatedUser);}function popObject(e){setTranslationObject(_objectSpread(_objectSpread({},translationObject),{},_defineProperty({},e.target.name,e.target.value)));}function clearState(){var _objectSpread4;var updatedOb=_objectSpread(_objectSpread({},translationObject),{},(_objectSpread4={},_defineProperty(_objectSpread4,sourceLang,\"\"),_defineProperty(_objectSpread4,targetLang,\"\"),_defineProperty(_objectSpread4,\"type\",\"\"),_objectSpread4));setTranslationObject(updatedOb);setPostPath();}function cancelState(){setPostPath();clearState();setSaveMode(null);}return/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"save-modal\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"save-form\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"modal-label\",children:langOne}),/*#__PURE__*/_jsx(\"input\",{name:targetLang,className:\"modal-input\",value:translationObject[targetLang],onChange:function onChange(e){return popObject(e);}}),/*#__PURE__*/_jsx(\"label\",{className:\"modal-label\",children:langTwo}),/*#__PURE__*/_jsx(\"input\",{name:sourceLang,className:\"modal-input\",value:translationObject[sourceLang],onChange:function onChange(e){return popObject(e);}}),/*#__PURE__*/_jsx(\"label\",{className:\"modal-label\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:translationObject[\"type\"],className:\"modal-input\",onChange:function onChange(e){setTranslationObject(_objectSpread(_objectSpread({},translationObject),{},{type:e.target.value}));setPostPath(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",defaultValue:true,children:\"-Select Entry Type-\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Expression\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Word\"})]}),alert&&/*#__PURE__*/_jsx(\"p\",{id:\"error-modal\",children:\"Please fill in all fields\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-button-container\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"modal-save\",onClick:function onClick(e){save(e);},children:\"save\"}),/*#__PURE__*/_jsx(\"button\",{id:\"modal-cancel\",onClick:cancelState,children:\"cancel\"})]})]})})});};export default Modal;","map":{"version":3,"names":["useContext","useEffect","useState","AppContext","jsx","_jsx","jsxs","_jsxs","Modal","_ref","setSaveMode","_useContext","targetLang","sourceLang","translationObject","setTranslationObject","_useContext2","user","setUser","_useState","_useState2","_slicedToArray","langOne","setLangOne","_useState3","_useState4","langTwo","setLangTwo","_useState5","_useState6","postPath","setPostPath","_useState7","_useState8","alert","setAlert","save","e","preventDefault","path","fetch","concat","method","headers","body","JSON","stringify","french","english","target","then","r","json","updateState","clearState","userArr","push","updatedUser","_objectSpread","_defineProperty","popObject","name","value","_objectSpread4","updatedOb","cancelState","className","children","onChange","type","defaultValue","id","onClick"],"sources":["/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/src/components/Modal.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\"\nimport { AppContext } from \"../Context\"\n\nconst Modal = ({setSaveMode}) => {\nconst {targetLang, sourceLang, translationObject, setTranslationObject} = useContext(AppContext)\nconst {user, setUser} = useContext(AppContext)\n\nconst [langOne, setLangOne] = useState()\nconst [langTwo, setLangTwo] = useState()\nconst [postPath, setPostPath] =useState()\nconst [alert, setAlert] = useState(false)\n\nuseEffect(() => {\n    if(sourceLang === \"en\"){setLangOne(\"French\"); setLangTwo(\"English\")}\n    else{setLangOne(\"English\"); setLangTwo(\"French\")}  \n}, [sourceLang])\n\nfunction save(e){\ne.preventDefault()\nlet path\nif (translationObject[\"type\"] === \"\" || translationObject[\"fr\"] === \"\" || translationObject[\"en\"] === \"\")\n{setAlert(true)}\nelse{\n    if(postPath === \"Expression\")\n    {path = \"expressions\"}\n    else {path = \"words\"}\n\n    fetch(`/${path}`, {\n        method:\"POST\",\n        headers: {\"Content-Type\":\"application/json\"},\n        body: JSON.stringify({\n            french: translationObject[\"fr\"],\n            english: translationObject[\"en\"],\n            target: targetLang,\n            })})\n        .then((r) => r.json()).then((r) =>{setSaveMode(null);updateState(r, path);clearState()})}}\n   \n\nfunction updateState(r, path) {\n    const userArr = user[path]\n    userArr.push(r)\n    const updatedUser = {...user, [path]: userArr}\n    setUser(updatedUser)}\n\nfunction popObject(e){\n    setTranslationObject({...translationObject, [e.target.name]: e.target.value})}\n\nfunction clearState(){\n    const updatedOb = {...translationObject, [sourceLang]: \"\", [targetLang]:\"\", [\"type\"]:\"\"}\n    setTranslationObject(updatedOb); setPostPath()}\n\n    function cancelState(){\n        setPostPath()\n        clearState()\n        setSaveMode(null)}\n\n    return (\n        <div className=\"overlay\">\n            <div className=\"save-modal\">\n                <form className=\"save-form\" >\n                    <label className=\"modal-label\" >{langOne}</label>\n                    <input name={targetLang} className=\"modal-input\" value={translationObject[targetLang]} onChange={(e) => popObject(e)} ></input>\n                    <label  className=\"modal-label\" >{langTwo}</label>\n                    <input name={sourceLang} className=\"modal-input\" value={translationObject[sourceLang]} onChange={(e) => popObject(e)} ></input>\n                    <label className=\"modal-label\">Type</label>\n                    <select value={translationObject[\"type\"]} className=\"modal-input\" onChange={(e) => {setTranslationObject({...translationObject, type: e.target.value}); setPostPath(e.target.value)}} >\n                        <option value=\"\" defaultValue>-Select Entry Type-</option>\n                        <option >Expression</option>\n                        <option>Word</option>\n                    </select>\n                    {alert && <p id=\"error-modal\">Please fill in all fields</p>}\n                    <div className=\"modal-button-container\">\n                        <button id=\"modal-save\" onClick={(e) => {save(e)}} >save</button>\n                        <button id=\"modal-cancel\" onClick={cancelState}>cancel</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Modal"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}