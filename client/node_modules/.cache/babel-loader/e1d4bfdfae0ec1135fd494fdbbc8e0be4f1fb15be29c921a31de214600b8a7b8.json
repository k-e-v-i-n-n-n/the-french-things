{"ast":null,"code":"import _toConsumableArray from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import{AppContext}from\"../Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WordStarModal=function WordStarModal(_ref){var setShowListModal=_ref.setShowListModal,wordState=_ref.wordState;var _useContext=useContext(AppContext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState({category_id:\"\",word_id:wordState.id}),_useState2=_slicedToArray(_useState,2),modalObj=_useState2[0],setModalObj=_useState2[1];function updateCat(e){setModalObj(_objectSpread(_objectSpread({},modalObj),{},{category_id:e.target.value}));}var catMap=user.categories.map(function(c){return/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.category},c.id);});function makeList(e){e.preventDefault();if(modalObj[\"category_id\"]===\"\"){alert(\"Please select a category\");}else{fetch(\"/wordstars\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({category_id:modalObj[\"category_id\"],word_id:modalObj[\"word_id\"]})}).then(function(r){return r.json();}).then(function(r){starState(r);setShowListModal(false);});}}function starState(r){var catArr=user.categories;var singleCat=catArr.find(function(c){return c.id===r.category_id;});var catWords=singleCat.words;var wordsArr=Array.isArray(catWords)?[].concat(_toConsumableArray(catWords),[r.word]):[r.word];var newSingleCat=_objectSpread(_objectSpread({},singleCat),{},{words:wordsArr});var catFilter=catArr.filter(function(c){return c.id!==r.category_id;});console.log(\"singleCat\",newSingleCat);var newCategory=[].concat(_toConsumableArray(catFilter),[newSingleCat]);var updatedUser=_objectSpread(_objectSpread({},user),{},{categories:newCategory});setUser(updatedUser);}return/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"add-category-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"modal-label\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{value:modalObj[\"category_id\"],className:\"modal-input\",onChange:function onChange(e){updateCat(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",defaultValue:true,children:\"-Select Category-\"}),catMap]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cat-word-form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cat-edit-values\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"edit-word-text\",children:wordState.french}),/*#__PURE__*/_jsx(\"label\",{className:\"cat-modal-labels\",children:\"French\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cat-edit-values\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"edit-word-text\",children:wordState.english}),/*#__PURE__*/_jsx(\"label\",{className:\"cat-modal-labels\",children:\"English\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cat-button-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-within\",children:/*#__PURE__*/_jsx(\"button\",{id:\"modal-save\",onClick:function onClick(e){makeList(e);},children:\"save\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-within\",children:/*#__PURE__*/_jsx(\"button\",{id:\"modal-cancel\",onClick:function onClick(){return setShowListModal(false);},children:\"cancel\"})})]})]})});};export default WordStarModal;","map":{"version":3,"names":["useContext","useState","AppContext","jsx","_jsx","jsxs","_jsxs","WordStarModal","_ref","setShowListModal","wordState","_useContext","user","setUser","_useState","category_id","word_id","id","_useState2","_slicedToArray","modalObj","setModalObj","updateCat","e","_objectSpread","target","value","catMap","categories","map","c","children","category","makeList","preventDefault","alert","fetch","method","headers","body","JSON","stringify","then","r","json","starState","catArr","singleCat","find","catWords","words","wordsArr","Array","isArray","concat","_toConsumableArray","word","newSingleCat","catFilter","filter","console","log","newCategory","updatedUser","className","onChange","defaultValue","french","english","onClick"],"sources":["/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/src/components/WordStarModal.js"],"sourcesContent":["import { useContext, useState } from \"react\"\nimport { AppContext } from \"../Context\"\n\nconst WordStarModal = ({setShowListModal, wordState}) => {\n    const {user, setUser} = useContext(AppContext)\n    const [modalObj, setModalObj] = useState({category_id: \"\", word_id: wordState.id})\n   \n    function updateCat(e){\n        setModalObj({...modalObj, category_id: e.target.value})\n    }\n\n    const catMap = user.categories.map((c) => <option key={c.id} value={c.id}>{c.category}</option>)\n\n    function makeList(e){\n        e.preventDefault()\n        if(modalObj[\"category_id\"] === \"\")\n        {alert(\"Please select a category\")}\n        else {\n        fetch(\"/wordstars\",{\n            method:\"POST\",\n            headers: {\"Content-Type\": \"application/json\"},\n            body: JSON.stringify({category_id: modalObj[\"category_id\"], word_id: modalObj[\"word_id\"] })})\n        .then((r) => r.json()).then((r) =>{starState(r); setShowListModal(false)})}}\n\nfunction starState(r){\n\n    const catArr = user.categories\n    const singleCat = catArr.find((c) => c.id === r.category_id)\n    const catWords = singleCat.words\n    const wordsArr = Array.isArray(catWords) ? [...catWords, r.word] : [r.word]\n   \n    const newSingleCat = {...singleCat, words: wordsArr}\n    const catFilter = catArr.filter((c) => c.id !== r.category_id)\n    console.log(\"singleCat\", newSingleCat)\n\n    const newCategory = [...catFilter, newSingleCat]\n    const updatedUser = {...user, categories: newCategory}\n\n    setUser(updatedUser)\n}\n\n\n\n\n    return(\n    <div className=\"overlay\">\n        <div className=\"add-category-container\">\n            <label className=\"modal-label\">Category</label>\n            <select value={modalObj[\"category_id\"]} className=\"modal-input\" onChange={(e) => {updateCat(e)}}>\n                <option value=\"\" defaultValue >-Select Category-</option>\n                {catMap}\n            </select>\n\n            <div className=\"cat-word-form-container\" >\n              <div className=\"cat-edit-values\" >\n              <p className=\"edit-word-text\" >{wordState.french}</p> \n                <label className=\"cat-modal-labels\" >French</label>\n              </div>\n              <div className=\"cat-edit-values\" >\n              <p className=\"edit-word-text\">{wordState.english}</p> \n                <label className=\"cat-modal-labels\" >English</label>\n              </div>\n          </div>\n            <div className=\"cat-button-container\">\n                <div className=\"container-within\" >\n                    <button id=\"modal-save\" onClick={(e) => {makeList(e)}}>save</button>\n                </div>\n                <div className=\"container-within\">\n                    <button id=\"modal-cancel\" onClick={() => setShowListModal(false)}>cancel</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    )\n}\n\nexport default WordStarModal"],"mappings":"4iBAAA,OAASA,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAC5C,OAASC,UAAU,KAAQ,YAAY,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAAC,IAAA,CAAsC,IAAjC,CAAAC,gBAAgB,CAAAD,IAAA,CAAhBC,gBAAgB,CAAEC,SAAS,CAAAF,IAAA,CAATE,SAAS,CAC/C,IAAAC,WAAA,CAAwBX,UAAU,CAACE,UAAU,CAAC,CAAvCU,IAAI,CAAAD,WAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,WAAA,CAAPE,OAAO,CACpB,IAAAC,SAAA,CAAgCb,QAAQ,CAAC,CAACc,WAAW,CAAE,EAAE,CAAEC,OAAO,CAAEN,SAAS,CAACO,EAAE,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAL,SAAA,IAA3EM,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5B,QAAS,CAAAI,SAASA,CAACC,CAAC,CAAC,CACjBF,WAAW,CAAAG,aAAA,CAAAA,aAAA,IAAKJ,QAAQ,MAAEL,WAAW,CAAEQ,CAAC,CAACE,MAAM,CAACC,KAAK,GAAE,CAC3D,CAEA,GAAM,CAAAC,MAAM,CAAGf,IAAI,CAACgB,UAAU,CAACC,GAAG,CAAC,SAACC,CAAC,qBAAK1B,IAAA,WAAmBsB,KAAK,CAAEI,CAAC,CAACb,EAAG,CAAAc,QAAA,CAAED,CAAC,CAACE,QAAQ,EAA9BF,CAAC,CAACb,EAAE,CAAoC,GAAC,CAEhG,QAAS,CAAAgB,QAAQA,CAACV,CAAC,CAAC,CAChBA,CAAC,CAACW,cAAc,EAAE,CAClB,GAAGd,QAAQ,CAAC,aAAa,CAAC,GAAK,EAAE,CACjC,CAACe,KAAK,CAAC,0BAA0B,CAAC,EAAC,IAC9B,CACLC,KAAK,CAAC,YAAY,CAAC,CACfC,MAAM,CAAC,MAAM,CACbC,OAAO,CAAE,CAAC,cAAc,CAAE,kBAAkB,CAAC,CAC7CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAC1B,WAAW,CAAEK,QAAQ,CAAC,aAAa,CAAC,CAAEJ,OAAO,CAAEI,QAAQ,CAAC,SAAS,CAAE,CAAC,CAAC,CAAC,CAAC,CAChGsB,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACC,IAAI,EAAE,GAAC,CAACF,IAAI,CAAC,SAACC,CAAC,CAAI,CAACE,SAAS,CAACF,CAAC,CAAC,CAAElC,gBAAgB,CAAC,KAAK,CAAC,EAAC,CAAC,EAAC,CAEnF,QAAS,CAAAoC,SAASA,CAACF,CAAC,CAAC,CAEjB,GAAM,CAAAG,MAAM,CAAGlC,IAAI,CAACgB,UAAU,CAC9B,GAAM,CAAAmB,SAAS,CAAGD,MAAM,CAACE,IAAI,CAAC,SAAClB,CAAC,QAAK,CAAAA,CAAC,CAACb,EAAE,GAAK0B,CAAC,CAAC5B,WAAW,GAAC,CAC5D,GAAM,CAAAkC,QAAQ,CAAGF,SAAS,CAACG,KAAK,CAChC,GAAM,CAAAC,QAAQ,CAAGC,KAAK,CAACC,OAAO,CAACJ,QAAQ,CAAC,IAAAK,MAAA,CAAAC,kBAAA,CAAON,QAAQ,GAAEN,CAAC,CAACa,IAAI,GAAI,CAACb,CAAC,CAACa,IAAI,CAAC,CAE3E,GAAM,CAAAC,YAAY,CAAAjC,aAAA,CAAAA,aAAA,IAAOuB,SAAS,MAAEG,KAAK,CAAEC,QAAQ,EAAC,CACpD,GAAM,CAAAO,SAAS,CAAGZ,MAAM,CAACa,MAAM,CAAC,SAAC7B,CAAC,QAAK,CAAAA,CAAC,CAACb,EAAE,GAAK0B,CAAC,CAAC5B,WAAW,GAAC,CAC9D6C,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEJ,YAAY,CAAC,CAEtC,GAAM,CAAAK,WAAW,IAAAR,MAAA,CAAAC,kBAAA,CAAOG,SAAS,GAAED,YAAY,EAAC,CAChD,GAAM,CAAAM,WAAW,CAAAvC,aAAA,CAAAA,aAAA,IAAOZ,IAAI,MAAEgB,UAAU,CAAEkC,WAAW,EAAC,CAEtDjD,OAAO,CAACkD,WAAW,CAAC,CACxB,CAKI,mBACA3D,IAAA,QAAK4D,SAAS,CAAC,SAAS,CAAAjC,QAAA,cACpBzB,KAAA,QAAK0D,SAAS,CAAC,wBAAwB,CAAAjC,QAAA,eACnC3B,IAAA,UAAO4D,SAAS,CAAC,aAAa,CAAAjC,QAAA,CAAC,UAAQ,EAAQ,cAC/CzB,KAAA,WAAQoB,KAAK,CAAEN,QAAQ,CAAC,aAAa,CAAE,CAAC4C,SAAS,CAAC,aAAa,CAACC,QAAQ,CAAE,SAAAA,SAAC1C,CAAC,CAAK,CAACD,SAAS,CAACC,CAAC,CAAC,EAAE,CAAAQ,QAAA,eAC5F3B,IAAA,WAAQsB,KAAK,CAAC,EAAE,CAACwC,YAAY,MAAAnC,QAAA,CAAE,mBAAiB,EAAS,CACxDJ,MAAM,GACF,cAETrB,KAAA,QAAK0D,SAAS,CAAC,yBAAyB,CAAAjC,QAAA,eACtCzB,KAAA,QAAK0D,SAAS,CAAC,iBAAiB,CAAAjC,QAAA,eAChC3B,IAAA,MAAG4D,SAAS,CAAC,gBAAgB,CAAAjC,QAAA,CAAGrB,SAAS,CAACyD,MAAM,EAAK,cACnD/D,IAAA,UAAO4D,SAAS,CAAC,kBAAkB,CAAAjC,QAAA,CAAE,QAAM,EAAQ,GAC/C,cACNzB,KAAA,QAAK0D,SAAS,CAAC,iBAAiB,CAAAjC,QAAA,eAChC3B,IAAA,MAAG4D,SAAS,CAAC,gBAAgB,CAAAjC,QAAA,CAAErB,SAAS,CAAC0D,OAAO,EAAK,cACnDhE,IAAA,UAAO4D,SAAS,CAAC,kBAAkB,CAAAjC,QAAA,CAAE,SAAO,EAAQ,GAChD,GACJ,cACJzB,KAAA,QAAK0D,SAAS,CAAC,sBAAsB,CAAAjC,QAAA,eACjC3B,IAAA,QAAK4D,SAAS,CAAC,kBAAkB,CAAAjC,QAAA,cAC7B3B,IAAA,WAAQa,EAAE,CAAC,YAAY,CAACoD,OAAO,CAAE,SAAAA,QAAC9C,CAAC,CAAK,CAACU,QAAQ,CAACV,CAAC,CAAC,EAAE,CAAAQ,QAAA,CAAC,MAAI,EAAS,EAClE,cACN3B,IAAA,QAAK4D,SAAS,CAAC,kBAAkB,CAAAjC,QAAA,cAC7B3B,IAAA,WAAQa,EAAE,CAAC,cAAc,CAACoD,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA5D,gBAAgB,CAAC,KAAK,CAAC,EAAC,CAAAsB,QAAA,CAAC,QAAM,EAAS,EAC/E,GACJ,GACJ,EACJ,CAEV,CAAC,CAED,cAAe,CAAAxB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}