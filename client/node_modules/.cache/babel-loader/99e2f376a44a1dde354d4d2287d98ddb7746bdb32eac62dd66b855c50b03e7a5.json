{"ast":null,"code":"import _objectSpread from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import{AppContext}from\"../Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CategoryModal=function CategoryModal(_ref){var setShowModal=_ref.setShowModal;var _useContext=useContext(AppContext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),cat=_useState2[0],setCat=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];function makeCat(e){e.preventDefault();if(cat===\"\"){setError(\"Please enter a category\");}else{fetch(\"/categories\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({category:cat})}).then(function(r){return r.json();}).then(function(r){updateCatState(r);setShowModal(false);});}}function updateCatState(r){var catArray=user.categories;catArray.push(r);var updatedUser=_objectSpread(_objectSpread({},user),{},{categories:catArray});setUser(updatedUser);}return/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"add-category-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"modal-label\",children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{value:cat,placeholder:\"Holidays\",className:\"modal-input\",onChange:function onChange(e){return setCat(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"error-category-container\",children:error&&/*#__PURE__*/_jsx(\"p\",{id:\"error-category\",children:error})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-button-container\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"modal-save\",onClick:function onClick(e){makeCat(e);},children:\"save\"}),/*#__PURE__*/_jsx(\"button\",{id:\"modal-cancel\",onClick:function onClick(){return setShowModal(false);},children:\"cancel\"})]})]})});};export default CategoryModal;","map":{"version":3,"names":["useContext","useState","AppContext","jsx","_jsx","jsxs","_jsxs","CategoryModal","_ref","setShowModal","_useContext","user","setUser","_useState","_useState2","_slicedToArray","cat","setCat","_useState3","_useState4","error","setError","makeCat","e","preventDefault","fetch","method","headers","body","JSON","stringify","category","then","r","json","updateCatState","catArray","categories","push","updatedUser","_objectSpread","className","children","value","placeholder","onChange","target","id","onClick"],"sources":["/Users/kevinlocke/Dropbox/Development/code/encodeur/Phase-5-Project-and-Notes/phase-5-repo/client/src/components/CategoryModal.js"],"sourcesContent":["import { useContext, useState } from \"react\"\nimport { AppContext } from \"../Context\"\n\nconst CategoryModal = ({setShowModal}) => {\n    const {user, setUser} = useContext(AppContext)\n    const [cat, setCat] = useState(\"\")\n    const [error, setError] = useState()\n  \n    function makeCat(e){\n        e.preventDefault()\n\n        if (cat === \"\"){\n            setError(\"Please enter a category\")}\n        else{\n        fetch(\"/categories\",{\n            method:\"POST\",\n            headers: {\"Content-Type\": \"application/json\"},\n            body: JSON.stringify({\n            category: cat})})\n        .then((r) => r.json()).then((r) => {updateCatState(r); setShowModal(false)})}}\n\n    function updateCatState(r){\n        const catArray = user.categories\n        catArray.push(r)\n        const updatedUser = {...user, categories: catArray}\n        setUser(updatedUser)\n    }\n    return(\n        <div className=\"overlay\">\n            <div className=\"add-category-container\">\n                <label className=\"modal-label\">Category</label>\n                <input value={cat} placeholder=\"Holidays\" className=\"modal-input\" onChange={(e)=> setCat(e.target.value)} />\n                <div className=\"error-category-container\" >\n                    {error && <p id=\"error-category\">{error}</p>}\n                </div>\n                <div className=\"modal-button-container\">\n                    <button id=\"modal-save\" onClick={(e) => {makeCat(e)}}>save</button>\n                    <button id=\"modal-cancel\" onClick={() => setShowModal(false)}>cancel</button>\n                </div>\n            </div>\n\n         \n\n        </div>\n\n\n\n    )\n}\n\nexport default CategoryModal"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}